const { MerkleTree } = require("merkletreejs");
const keccak256 = require("keccak256");

let whitelistAddresses = [
    "0x6cAfc07C1e6D37903aBd6b56A92e9b1DC985f903",
    "0xB64107Edd823F6B6E57FF99C4d8e2c7394C2e00E",
    "0xD20d11319e611e3208B3a0bfc2BB4163F9CC3A65",
    "0x0000004B8702bAaED343A17B3e240ddCEf88D6f0",
    "0x0000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000001",
    "0x0000000000000000000000000000000000000002",
    "0x0000000000000000000000000000000000000003",
    "0x0000000000000000000000000000000000000004",
    "0x0000000000000000000000000000000000000005",
    "0x0000000000000000000000000000000000000006",
    "0x0000000000000000000000000000000000000007",
    "0x0000000000000000000000000000000000000008",
    "0x0000000000000000000000000000000000000009",
    "0x0000000000000000000000000000000000000010"
]

const leafNodes = whitelistAddresses.map(addr => keccak256(addr));
const merkleTree = new MerkleTree(leafNodes, keccak256, { sortPairs: true });

const rootHash = merkleTree.getRoot();

console.log("Whitelist Merkle Tree:\n", merkleTree.toString());

// const merkleProof = merkleTree.getHexProof(keccak256("0x6cAfc07C1e6D37903aBd6b56A92e9b1DC985f903"));

// console.log(merkleTree.verify(merkleProof, keccak256("0x6cAfc07C1e6D37903aBd6b56A92e9b1DC985f903"), rootHash));